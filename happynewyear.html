<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Happy New Year</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
/* ---------- RESET ---------- */
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

/* ---------- BODY ---------- */
body {
  height: 100vh;
  overflow: hidden;
  background: radial-gradient(circle at bottom, #0a1a2a, #020b14);
  font-family: "Georgia", serif;
  color: #111;
}

/* ---------- CANVAS FIREWORKS ---------- */
canvas {
  position: fixed;
  inset: 0;
  z-index: 0;
}

/* ---------- PAGE ---------- */
.page {
  position: absolute;
  inset: 0;
  display: none;
  z-index: 1;
}

.page.active {
  display: flex;
}

/* ---------- PAGE 1 ---------- */
#page1 {
  align-items: center;
  justify-content: center;
  flex-direction: column;
  text-align: center;
  color: #fff;
}

.logo {
  font-size: 2.8rem;
  letter-spacing: 6px;
  margin-bottom: 35px;
  position: relative;
}

.logo::before,
.logo::after {
  content: "";
  position: absolute;
  width: 70px;
  height: 1px;
  background: linear-gradient(to right, transparent, #f5d27a, transparent);
  top: 50%;
}

.logo::before { left: -90px; }
.logo::after { right: -90px; }

#nameInput {
  padding: 16px 22px;
  font-size: 1.1rem;
  width: 300px;
  border-radius: 6px;
  border: none;
  outline: none;
  text-align: center;
}

.hint {
  margin-top: 12px;
  opacity: 0.7;
  font-size: 0.85rem;
}

/* ---------- PAGE 2 ---------- */
#page2 {
  justify-content: center;
  align-items: flex-start;
  overflow-y: auto;
  padding: 80px 20px;
}

/* ---------- LETTER ---------- */
.letter {
  max-width: 820px;
  margin: auto;
  padding: 70px 65px;
  background:
    linear-gradient(0deg, rgba(0,0,0,0.02), rgba(0,0,0,0.02)),
    repeating-linear-gradient(
      0deg,
      #f5f1e8,
      #f5f1e8 28px,
      #f0ebe0 29px
    );
  box-shadow:
    0 20px 40px rgba(0,0,0,0.25),
    inset 0 0 120px rgba(0,0,0,0.08);
  border-radius: 4px;
}

.letter h2 {
  font-size: 2rem;
  margin-bottom: 40px;
  text-align: center;
  font-weight: normal;
  letter-spacing: 2px;
}

.letter p {
  font-size: 1.05rem;
  line-height: 2;
  margin-bottom: 28px;
  text-align: justify;
}
</style>
</head>

<body>

<canvas id="fireworks"></canvas>

<!-- PAGE 1 -->
<div class="page active" id="page1">
  <div class="logo">HAPPY NEW YEAR</div>
  <input id="nameInput" placeholder="Enter your name" />
  <div class="hint">Press Enter</div>
</div>

<!-- PAGE 2 -->
<div class="page" id="page2">
  <div class="letter">
    <h2 id="title"></h2>
    <p id="p1"></p>
    <p id="p2"></p>
    <p id="p3"></p>
  </div>
</div>

<script>
/* ---------- PAGE SWITCH ---------- */
const input = document.getElementById("nameInput");
const page1 = document.getElementById("page1");
const page2 = document.getElementById("page2");

input.addEventListener("keydown", e => {
  if (e.key === "Enter" && input.value.trim()) {
    const name = input.value.trim();

    page1.classList.remove("active");
    page2.classList.add("active");

    title.textContent = `Happy New Year, ${name}`;
    p1.textContent =
      "As this new year begins, may it quietly bring clarity, growth, and moments that feel meaningful in ways words cannot fully explain.";
    p2.textContent =
      "Let the past remain where it belongs â€” not forgotten, but understood. Everything you endured shaped you into someone stronger, wiser, and more aware.";
    p3.textContent =
      "May the days ahead feel lighter, your steps more certain, and your heart steady as you move forward into whatever awaits you next.";
  }
});

/* ---------- FIREWORKS (SMOOTH) ---------- */
const canvas = document.getElementById("fireworks");
const ctx = canvas.getContext("2d");
resize();

window.addEventListener("resize", resize);

function resize() {
  canvas.width = innerWidth;
  canvas.height = innerHeight;
}

class Particle {
  constructor(x, y) {
    const angle = Math.random() * Math.PI * 2;
    const speed = Math.random() * 4 + 2;
    this.vx = Math.cos(angle) * speed;
    this.vy = Math.sin(angle) * speed;
    this.x = x;
    this.y = y;
    this.life = 80;
  }
  update() {
    this.vy += 0.02;
    this.x += this.vx;
    this.y += this.vy;
    this.life--;
  }
  draw() {
    ctx.fillStyle = "rgba(245,210,122,0.8)";
    ctx.fillRect(this.x, this.y, 2, 2);
  }
}

let particles = [];

setInterval(() => {
  const x = Math.random() * canvas.width;
  const y = Math.random() * canvas.height * 0.5;
  for (let i = 0; i < 60; i++) {
    particles.push(new Particle(x, y));
  }
}, 900);

function animate() {
  ctx.clearRect(0, 0, canvas.width, canvas.height);
  particles = particles.filter(p => p.life > 0);
  particles.forEach(p => {
    p.update();
    p.draw();
  });
  requestAnimationFrame(animate);
}
animate();
</script>

</body>
</html>